<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CM2 - Socle Commun Aventures</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    
    <div id="sidebar">
        <div class="expand-hint">âœ</div>
        <div class="sidebar-header">
            <h3>Menu</h3>
        </div>
        
        <a href="#" data-navigate="accueil" class="sidebar-link active-link">ğŸ  <span>Accueil</span></a>
        <a href="#" data-navigate="maths" class="sidebar-link">ğŸ“ <span>MathÃ©matiques</span></a>
        <a href="#" data-navigate="francais" class="sidebar-link">ğŸ“š <span>FranÃ§ais</span></a>
        <a href="#" data-navigate="histoire" class="sidebar-link">ğŸ“œ <span>Histoire & GÃ©o</span></a>
        <a href="#" data-navigate="sciences" class="sidebar-link">ğŸ”¬ <span>Sciences</span></a>
        
        <div class="sidebar-separator-line"></div>
        
        <a href="#" data-navigate="forum" class="sidebar-link">ğŸ’¬ <span>Forum</span></a>
        <a href="#" data-navigate="contribution" class="sidebar-link">ğŸ¤ <span>Contribuer</span></a>
        <a href="#" data-navigate="parents" class="sidebar-link">ğŸ‘¨â€ğŸ« <span>Espace Parents</span></a>
        <a href="#" data-navigate="quiz" class="sidebar-link nav-button">ğŸš€ <span>Quiz !</span></a>
    </div>

    <div id="main-content">
        <header>
            <div class="logo">Socle CM2 Aventures</div>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Rechercher (ex: Fraction, Louis XVI...)">
                <button id="search-button">ğŸ”</button>
            </div>
        </header>
    
        <main>
            <section id="accueil" class="page-section active-section">
                <div class="hero-section">
                    <h1>Bienvenue, jeune explorateur ! ğŸŒŸ</h1>
                    <p class="slogan">PrÃªt Ã  devenir un champion du CM2 ? Ici, tu apprends Ã  ton rythme.</p>
                </div>
                
                <div id="thematics">
                    <h2>Tes MatiÃ¨res</h2>
                    <div class="card-container">
                        <div class="card" data-navigate="maths">
                            <h3>MathÃ©matiques</h3>
                            <p>Nombres, Calculs, GÃ©omÃ©trie.</p>
                        </div>
                        <div class="card" data-navigate="francais">
                            <h3>FranÃ§ais</h3>
                            <p>Grammaire, Conjugaison.</p>
                        </div>
                        <div class="card" data-navigate="histoire">
                            <h3>Histoire & GÃ©o</h3>
                            <p>De la RÃ©volution Ã  l'Europe.</p>
                        </div>
                        <div class="card" data-navigate="sciences">
                            <h3>Sciences</h3>
                            <p>Corps humain et Ã‰nergie.</p>
                        </div>
                    </div>
                </div>

                <div id="defi-du-jour" class="interactive-section">
                    <div class="defi-header">
                        <h2>ğŸ”¥ Le DÃ©fi du Jour</h2>
                        <div class="user-score-display">Ton score : <span id="my-defi-score">12</span> pts</div>
                    </div>
                    
                    <p class="sous-titre-small">Prochaine question dans : <span id="countdown">--:--:--</span></p>
                    
                    <div id="defi-content-box">
                        <h3 id="defi-question-text">Chargement...</h3>
                    </div>
                    
                    <div id="defi-input-zone">
                        <input type="text" id="defi-user-answer" placeholder="Ta rÃ©ponse..." required>
                        <button id="valider-defi-btn" class="challenge-button">Valider</button>
                    </div>
                    <div id="defi-feedback" class="feedback-hidden"></div>
                    
                    <h3 style="margin-top: 30px; color:#555;">ğŸ† Classement du Mois</h3>
                    <div class="podium-container">
                        <div class="podium-step silver">
                            <div class="avatar">ğŸ¥ˆ</div>
                            <div class="name">LÃ©a_92</div>
                            <div class="points">28 pts</div>
                            <div class="step-block">2</div>
                        </div>
                        <div class="podium-step gold">
                            <div class="crown">ğŸ‘‘</div>
                            <div class="avatar">ğŸ¥‡</div>
                            <div class="name">MathsKing</div>
                            <div class="points">30 pts</div>
                            <div class="step-block">1</div>
                        </div>
                        <div class="podium-step bronze">
                            <div class="avatar">ğŸ¥‰</div>
                            <div class="name">Hugo_B</div>
                            <div class="points">25 pts</div>
                            <div class="step-block">3</div>
                        </div>
                    </div>
                    <ul class="ranking-list">
                        <li><span class="rank">4.</span> <span class="user">SuperEleve</span> <span class="pts">22 pts</span></li>
                        <li><span class="rank">5.</span> <span class="user">LÃ©o_CM2</span> <span class="pts">20 pts</span></li>
                        <li style="background-color: #e9f7ff; border: 2px solid #007bff; margin-top:10px;">
                            <span class="rank">24.</span> <span class="user">Toi (Utilisateur)</span> <span class="pts" id="ranking-score-display">12 pts</span>
                        </li>
                    </ul>
                </div>
            </section>
            
            <section id="maths" class="page-section hub-page">
                <h2>ğŸ“ MathÃ©matiques</h2>
                <div class="category-grid">
                    <div class="category-card" data-navigate="maths-nombres"><h3>Les Nombres</h3><button class="nav-button-small">Ouvrir</button></div>
                    <div class="category-card" data-navigate="maths-mesures"><h3>Mesures</h3><button class="nav-button-small">Ouvrir</button></div>
                    <div class="category-card" data-navigate="maths-geometrie"><h3>GÃ©omÃ©trie</h3><button class="nav-button-small">Ouvrir</button></div>
                </div>
            </section>
            <section id="maths-nombres" class="page-section lecon-exercice-page">
                <h2>Les Fractions</h2>
                <div class="switch-button-container"><button class="switch-btn active-mode" onclick="toggleMode(this, 'lecon')">ğŸ“š LeÃ§on</button><button class="switch-btn" onclick="toggleMode(this, 'exercice')">âœï¸ Exercices</button></div>
                <div class="content-mode lecon-mode active-mode">
                    <div class="lecon-box">
                        <h3>DÃ©finition</h3>
                        <p>Une fraction est un partage Ã©quitable. Le numÃ©rateur est en haut, le dÃ©nominateur en bas.</p>
                        

[Image of a pizza fraction]

                    </div>
                </div>
                <div class="content-mode exercice-mode">
                    <div class="exercice-box"><p>Simplifie 50/100.</p><button class="show-answer-btn">RÃ©ponse</button><p class="solution-text">1/2</p></div>
                </div>
            </section>
            <section id="maths-mesures" class="page-section lecon-exercice-page"><h2>PÃ©rimÃ¨tre</h2><div class="lecon-box"><p>CÃ´tÃ© x 4</p></div></section>
            <section id="maths-geometrie" class="page-section lecon-exercice-page"><h2>Solides</h2><div class="lecon-box"><p>Cube = 6 faces carrÃ©es.</p></div></section>

            <section id="francais" class="page-section hub-page">
                <h2>ğŸ“š FranÃ§ais</h2>
                <div class="category-grid">
                    <div class="category-card" data-navigate="francais-conjugaison"><h3>Conjugaison</h3><button class="nav-button-small">Ouvrir</button></div>
                    <div class="category-card" data-navigate="francais-grammaire"><h3>Grammaire</h3><button class="nav-button-small">Ouvrir</button></div>
                </div>
            </section>
            <section id="francais-conjugaison" class="page-section lecon-exercice-page"><h2>Conjugaison</h2><p>Le futur simple : ai, as, a, ons, ez, ont.</p></section>
            <section id="francais-grammaire" class="page-section lecon-exercice-page"><h2>Grammaire</h2><p>Le verbe s'accorde avec le sujet.</p></section>

            <section id="histoire" class="page-section hub-page">
                <h2>ğŸ“œ Histoire & GÃ©ographie</h2>
                <div class="category-grid">
                    <div class="category-card" data-navigate="histoire-revolution"><h3>La RÃ©volution</h3><button class="nav-button-small">AccÃ©der</button></div>
                    <div class="category-card" data-navigate="histoire-napoleon"><h3>NapolÃ©on</h3><button class="nav-button-small">AccÃ©der</button></div>
                </div>
            </section>
            <section id="histoire-revolution" class="page-section lecon-exercice-page">
                <h2>La RÃ©volution FranÃ§aise (1789)</h2>
                <div class="lecon-box">
                    <p>La prise de la Bastille le 14 juillet 1789 marque la fin de la monarchie absolue.</p>
                </div>
                <div class="exercice-box"><p>Qui Ã©tait roi ?</p><button class="show-answer-btn">RÃ©ponse</button><p class="solution-text">Louis XVI</p></div>
            </section>
            <section id="histoire-napoleon" class="page-section lecon-exercice-page"><h2>NapolÃ©on Bonaparte</h2><div class="lecon-box"><p>Il devient Empereur en 1804.</p></div></section>

            <section id="sciences" class="page-section hub-page">
                <h2>ğŸ”¬ Sciences</h2>
                <div class="category-grid">
                    <div class="category-card" data-navigate="sciences-corps"><h3>Le Corps Humain</h3><button class="nav-button-small">AccÃ©der</button></div>
                    <div class="category-card" data-navigate="sciences-energie"><h3>L'Ã‰nergie</h3><button class="nav-button-small">AccÃ©der</button></div>
                </div>
            </section>
            <section id="sciences-corps" class="page-section lecon-exercice-page">
                <h2>La Digestion</h2>
                <div class="lecon-box">
                    <p>Bouche > Å’sophage > Estomac > Intestins.</p>
                    

[Image of human digestive system diagram]

                </div>
            </section>
            <section id="sciences-energie" class="page-section lecon-exercice-page"><h2>Les Ã‰nergies</h2><div class="lecon-box"><p>Renouvelables (Soleil, Vent) vs Non-Renouvelables (PÃ©trole, Gaz).</p></div></section>

            <section id="forum" class="page-section">
                <h2>ğŸ’¬ Le Forum des Ã‰lÃ¨ves</h2>
                <div class="forum-container" id="forum-posts-container">
                    
                    <div class="forum-card">
                        <div class="forum-icon">â—</div>
                        <div class="forum-content">
                            <div class="forum-header">
                                <span class="tag-subject math">Maths</span>
                                <span class="forum-date">Aujourd'hui 14:30</span>
                            </div>
                            <h4>ProblÃ¨me division Ã  2 chiffres</h4>
                            <p>Je bloque quand il y a un reste, comment on fait la preuve ?</p>
                            
                            <div class="replies-container"></div>
                            
                            <div class="reply-action-area">
                                <button class="reply-btn-small trigger-reply">â†©ï¸ RÃ©pondre</button>
                                <div class="reply-input-box" style="display: none;">
                                    <textarea placeholder="Ta rÃ©ponse..."></textarea>
                                    <button class="nav-button-small send-reply">Envoyer</button>
                                </div>
                            </div>
                            
                            <div class="forum-footer">Par <strong>LÃ©o</strong></div>
                        </div>
                    </div>

                    <div class="forum-card">
                        <div class="forum-icon">ğŸ‘‘</div>
                        <div class="forum-content">
                            <div class="forum-header">
                                <span class="tag-subject history">Histoire</span>
                                <span class="forum-date">Hier 18:15</span>
                            </div>
                            <h4>Louis XIV</h4>
                            <p>Pourquoi Versailles ?</p>
                            
                            <div class="replies-container"></div>
                            
                            <div class="reply-action-area">
                                <button class="reply-btn-small trigger-reply">â†©ï¸ RÃ©pondre</button>
                                <div class="reply-input-box" style="display: none;">
                                    <textarea placeholder="Ta rÃ©ponse..."></textarea>
                                    <button class="nav-button-small send-reply">Envoyer</button>
                                </div>
                            </div>
                            
                            <div class="forum-footer">Par <strong>Sophie</strong></div>
                        </div>
                    </div>
                </div>
                <button id="create-subject-btn" class="challenge-button big-btn">â• CrÃ©er un nouveau sujet</button>
            </section>

            <section id="contribution" class="page-section">
                <h2>ğŸ¤ Espace Contribution</h2>
                <div class="contribution-wrapper">
                    <p class="contrib-intro">Aidez-nous Ã  amÃ©liorer le site !</p>
                    <form id="contribution-form">
                        <div class="form-group">
                            <label>Votre Email (pour la rÃ©ponse) :</label>
                            <input type="email" id="contributor-email" required placeholder="exemple@email.com">
                        </div>
                        <div class="form-group">
                            <label>Vous Ãªtes :</label>
                            <select id="contributor-role">
                                <option value="eleve">ğŸ“ Ã‰lÃ¨ve CM2</option>
                                <option value="prof">ğŸ Professeur</option>
                                <option value="etudiant">ğŸ“š Ã‰tudiant</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Type de demande :</label>
                            <select id="contributor-type">
                                <option value="correction">ğŸ”§ Correction</option>
                                <option value="question">â“ Question</option>
                                <option value="amelioration">âœ¨ AmÃ©lioration</option>
                                <option value="ajout">â• Ajout</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>MatiÃ¨re concernÃ©e :</label>
                            <input type="text" id="contrib-subject-name" placeholder="Ex: Maths, Histoire...">
                        </div>
                        <div class="form-group">
                            <label>Votre Message :</label>
                            <textarea id="contribution-text" required placeholder="Votre message..."></textarea>
                        </div>
                        <button type="submit" class="submit-btn-styled">Envoyer la contribution ğŸš€</button>
                    </form>
                </div>
            </section>
            
            <section id="parents" class="page-section">
                <h2>ğŸ‘¨â€ğŸ« Espace Parents & Enseignants</h2>
                <div class="parent-content">
                    <div class="parent-card">
                        <h3>ğŸ¯ Objectifs du Socle Commun (CM2)</h3>
                        <ul class="parent-list">
                            <li><strong>FranÃ§ais :</strong> Lecture fluide, grammaire (accords), conjugaison (temps simples/composÃ©s).</li>
                            <li><strong>MathÃ©matiques :</strong> Nombres dÃ©cimaux, fractions simples, gÃ©omÃ©trie, problÃ¨mes.</li>
                            <li><strong>Culture :</strong> Histoire de France, repÃ¨res gÃ©ographiques, dÃ©marche scientifique.</li>
                        </ul>
                    </div>
                    <div class="parent-card highlight">
                        <h3>ğŸ“¢ Suivi & CorrigÃ©s</h3>
                        <p>Les rÃ©sultats des quiz sont stockÃ©s sur cette page dans l'onglet "Quiz". <br>Pour les dÃ©fis du jour, la rÃ©ponse s'affiche aprÃ¨s validation.</p>
                    </div>
                </div>
            </section>

            <section id="quiz" class="page-section">
                <h2>ğŸš€ QCM Interactif (15 Questions)</h2>
                
                <div id="quiz-stats-container" style="display:block; margin-bottom: 20px;">
                    <h3>ğŸ“ˆ Vos Statistiques (Temps RÃ©el)</h3>
                    <div class="stats-summary">
                        <div class="stat-box"><span class="stat-value" id="stat-total">0</span><span class="stat-label">Total</span></div>
                        <div class="stat-box"><span class="stat-value" id="stat-average">--/15</span><span class="stat-label">Moyenne</span></div>
                        <div class="stat-box"><span class="stat-value" id="stat-best">--</span><span class="stat-label">Meilleur</span></div>
                    </div>
                    <div class="stats-bars" id="chart-bars-area"></div>
                </div>
                
                <div id="quiz-container"><p>Chargement...</p></div>
                <div id="quiz-result" class="notification-hidden">
                    <p id="score-text"></p>
                    <p id="feedback-text"></p>
                </div>
                <button id="submit-quiz-btn" class="challenge-button">Valider mes rÃ©ponses</button>
            </section>

        </main>
    </div>

    <footer id="main-footer">
        <p>&copy; 2025 Socle CM2 Aventures</p>
    </footer>
    
    <div id="notification-popup" class="notification-hidden"></div>
    <div id="confetti-container"></div>
    
    <div id="forum-modal-step1" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Nouveau Sujet : Ã‰tape 1</h3>
            <div class="modal-form-group checkbox-group">
                <input type="checkbox" id="anon-check">
                <label for="anon-check">Poster en anonyme</label>
            </div>
            <p>Dans quelle matiÃ¨re ?</p>
            <div class="modal-options">
                <button class="select-subject-btn" data-sub="Maths" data-class="math">MathÃ©matiques</button>
                <button class="select-subject-btn" data-sub="FranÃ§ais" data-class="francais">FranÃ§ais</button>
                <button class="select-subject-btn" data-sub="Histoire" data-class="history">Histoire</button>
                <button class="select-subject-btn" data-sub="Sciences" data-class="science">Sciences</button>
            </div>
            <button class="modal-close-btn" onclick="closeAllModals()">Annuler</button>
        </div>
    </div>

    <div id="forum-modal-step2" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Ã‰crire votre message</h3>
            <p id="forum-selected-info" style="color: #007bff; font-weight: bold;"></p>
            <input type="text" id="new-post-title" class="modal-input" placeholder="Titre du sujet...">
            <textarea id="new-post-body" class="modal-input" rows="4" placeholder="Votre question..."></textarea>
            <button id="publish-forum-btn" class="challenge-button">Publier sur le forum</button>
            <button class="modal-close-btn" onclick="closeAllModals()">Annuler</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
